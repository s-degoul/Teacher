<?php

try {
	if (!isset ($db))	
		$db = new PDO ('mysql:host='.HOST_DB.';dbname='.NAME_DB, LOGIN_DB, PASSWORD_DB);

	$request = $db -> prepare (
		'SELECT id_patient, patient_surname, patient_firstname, 
		patient_date_birth, patient_sex,
		FROM table_patient
		WHERE id_user = :id_user'
		);

	$request -> execute (array (
					'id_user' => $_SESSION['id_user']
					)
				);

	$list_patient = array();

	$request -> setFetchMode(PDO::FETCH_ASSOC);

	while ($one_patient = $request -> fetch()) {
		$list_patient[] = $one_patient;
	}

	$request -> closeCursor();
}
catch (Exception $e) {
	die ('Erreur : '.$e->getMessage());
}
	
?>
